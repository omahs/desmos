<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-architecture/adr-011-reports-module">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">ADR 011: Reports module | Desmos documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://test-docs.desmos.network/architecture/adr-011-reports-module"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ADR 011: Reports module | Desmos documentation"><meta data-rh="true" name="description" content="Changelog"><meta data-rh="true" property="og:description" content="Changelog"><link data-rh="true" rel="icon" href="/assets/favicon.ico"><link data-rh="true" rel="canonical" href="https://test-docs.desmos.network/architecture/adr-011-reports-module"><link data-rh="true" rel="alternate" href="https://test-docs.desmos.network/architecture/adr-011-reports-module" hreflang="en"><link data-rh="true" rel="alternate" href="https://test-docs.desmos.network/architecture/adr-011-reports-module" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://1IAGPKAXGP-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Desmos documentation" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.fcc6b822.css">
<link rel="preload" href="/assets/js/runtime~main.0e2de217.js" as="script">
<link rel="preload" href="/assets/js/main.f783f73f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://docs.desmos.network" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/assets/logo.svg" alt="Desmos logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/assets/logo.svg" alt="Desmos logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/">master</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/architecture/adr-011-reports-module">master</a></li><li><a class="dropdown__link" href="/4.2.0/">4.2.0</a></li><li><a class="dropdown__link" href="/2.3/">2.3</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/developers/overview">Developers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fullnode/overview">Running a Fullnode</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/validators/overview">Validators</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/testnet/overview">Testnet</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mainnet/genesis-file">Mainnet</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/architecture/">ADRs</a><button aria-label="Toggle the collapsible sidebar category &#x27;ADRs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/PROCESS">ADR Creation Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-001-change-chain-links-plain-text-encoding-to-hex">ADR 001: Change chain link plain text encoding to hex</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-002-mutual-dtags-exchange">ADR 002: Mutual DTags exchange</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-003-remove-custom-json-tags-from-profo-files">ADR 003: Remove custom JSON tags from Proto files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-004-application-links-expiration">ADR 004: Expiration of application links</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-005-support-multisig-chain-link">ADR 006: Support multisig chain link</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-006-subspace-module">ADR 006: Subspace module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-007-address-generation-of-chain-link-proof">ADR 007: Address generation of chain link proof</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-008-fee-module">ADR 008: Fees modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-009-supply-module">ADR 009: Supply module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-010-posts-module">ADR 010: Posts module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/architecture/adr-011-reports-module">ADR 011: Reports module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-012-subspaces-sections">ADR 012: Subspaces sections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-013-per-chain-default-address">ADR 013: Per-chain default external address</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-014-improve-permissions">ADR 014: Improve the permission system</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-015-improve-chain-link-signature-support">ADR 015: Improve chain links signature support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-016-reactions-module">ADR 016: Reactions module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-017-subspace-fee-grant">ADR 017: Subspace fee grant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/adr-018-improve-subspace-treasury-account">ADR 018: Improve subspace treasury account</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/architecture/"><span itemprop="name">ADRs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ADR 011: Reports module</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: master</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>ADR 011: Reports module</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="changelog">Changelog<a class="hash-link" href="#changelog" title="Direct link to heading">​</a></h2><ul><li>April 12th, 2022: Initial draft</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a class="hash-link" href="#status" title="Direct link to heading">​</a></h2><p>ACCEPTED Implemented</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="abstract">Abstract<a class="hash-link" href="#abstract" title="Direct link to heading">​</a></h2><p>This ADR contains the specification of the <code>x/reports</code> module which will allow users to report other users and/or content posted inside subspaces.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a class="hash-link" href="#context" title="Direct link to heading">​</a></h2><p>One of the most important parts of a functional social network is the set of rules that constitute the Terms of Service, and how they are enforced. In most social networks the key for a good user experience is the reporting system: users are able to report misbehaving users or inappropriate content that gets later reviewed and taken care of by moderators. </p><p>Inside Desmos we MUST give users a set of tools that allow them to perform the same actions on all the social networks that they will have access to. At the same time, we SHOULD NOT enforce any high-level Term of Service since each subspace that will be built on Desmos might want to have very different rules from the other ones (i.e. an adult content social network will most likely have a very different set of rules from a kids social network). Instead, we should allow subspace owners and admins to register the various reasons a user/content can be reported for.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="decision">Decision<a class="hash-link" href="#decision" title="Direct link to heading">​</a></h2><p>We will implement a new module named <code>x/reports</code> that allows users to report either a misbehaving user or a bad content inside subspaces where they have the permission to do so.</p><p>The same module will also allow subspace owners to register their own custom supported reasons for reports. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a class="hash-link" href="#types" title="Direct link to heading">​</a></h3><p>Reports can be of two different types: <code>UserReport</code> for reporting a misbehaving user, or <code>PostReport</code> for reporting a bad post. The whole system must be thought in order to support additional report types in the future (i.e. <code>ProposalReport</code> to report a bad on-chain governance proposal). </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="report">Report<a class="hash-link" href="#report" title="Direct link to heading">​</a></h4><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Report contains the data of a generic report</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message Report {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the report inside the subspace</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint64 id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the reason this report has been created for</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint32 reason_id = 2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Message attached to this report</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  optional string message = 3;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Address of the reporter </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required string reporter = 4;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Target of the report</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  oneof Target {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    UserTarget user_data = 5;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    PostTarget post_data = 6;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// UserTarget contains the data of a report about a user</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message UserTarget {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the subspace inside which the user has been reported</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint64 subspace_id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Address of the reported user</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required string user = 2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// PostTarget contains the data of a report about a post</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message PostTarget {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the subspace inside which the reported post is</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint64 subspace_id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the reported post </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint64 post_id = 2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reason">Reason<a class="hash-link" href="#reason" title="Direct link to heading">​</a></h3><p>Each subspace owner/admin SHOULD be able to define a custom set of supported reasons for which users/posts can be reported for. Each reason MUST contain a human-readable title that identifies the reason itself. </p><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Reason contains the data about a reporting reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message Reason {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the reason inside the subspace </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint32 id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Title of the reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required string title = 2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Extended description of the reason and the cases it applies to</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  optional string description = 3;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="params">Params<a class="hash-link" href="#params" title="Direct link to heading">​</a></h3><p>In order to make it easier to set up initially supported reporting reasons for new subspaces, we are going to provide all the subspaces with a list from which they can easily pick reasons that should be supported inside their own subspace as well.</p><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Params contains the module parameters</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message Params {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // List of available reasons from which new subspaces can pick their default ones</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  repeated Reason reasons = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="msg-service"><code>Msg</code> Service<a class="hash-link" href="#msg-service" title="Direct link to heading">​</a></h3><p>We will allow the following operations: </p><ul><li>crete a new report</li><li>delete an existing report </li><li>manage supported reporting reasons (add, remove a reason)</li></ul><blockquote><p>NOTE<br>
<!-- -->The ability to edit a report will <strong>not</strong> be allowed in order to avoid ever-changing reports that can make the moderation work a lot more complicated.</p></blockquote><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">service Msg {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // CreateReport allows to create a new report</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rpc CreateReport(MsgCreateReport) returns (MsgCreateReportResponse);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // DeleteReport allows to delete an existing report</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rpc DeleteReport(MsgDeleteReport) returns (MsgDeleteReportResponse);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // SupportReason allows to support one of the reasons present inside the module params </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rpc SupportReason(MsgSupportReason) returns (MsgSupportReasonResponse);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // AddReason allows to add a new supported reporting reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rpc AddReason(MsgAddReason) returns (MsgAddReasonResponse);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // RemoveReason allows to remove a supported reporting reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rpc RemoveReason(MsgRemoveReason) returns (MsgRemoveReasonResponse);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// MsgCreateReport represents the message to be used to create a report</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message MsgCreateReport {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the reason this report has been created for</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint32 reason_id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Message attached to this report</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  optional string message = 2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Address of the reporter </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required string reporter = 3;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Target of the report</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  oneof Target {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    UserTarget user_data = 4;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    PostTarget post_data = 5;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// MsgCreateReportResponse represents the Msg/CreateReport response type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message MsgCreateReportResponse {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the newly created report</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint64 report_id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// MsgDeleteReport represents the message to be used when deleting a report</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message MsgDeleteReport {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the subspace that contains the report to be deleted </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint64 subspace_id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the report to be deleted </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint64 report_id = 2; </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Address of the user deleting the report </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required string signer = 3;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// MsgDeleteReportResponse represents the Msg/DeleteReport response type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message MsgDeleteReportResponse {}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// MsgSupportReason represents the message to be used when wanting to support a reason from the module params</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message MsgSupportReason {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the subspace for which to support the reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint64 subspace_id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the reason that should be supported</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint32 reason_id = 2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Address of the user signing the message</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required string signer = 3;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// MsgSupportReasonResponse represents the Msg/SupportReason response type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message MsgSupportReasonResponse {}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// MsgAddReason represents the message to be used when adding a new supported reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message MsgAddReason {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the subspace for which to add the reason </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint64 subspace_id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Title of the reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required string title = 2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Extended description of the reason and the cases it applies to</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  optional string description = 3;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Address of the user adding the supported reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required string signer = 4;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// MsgAddReasonResponse represents the Msg/AddReason response type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message MsgAddReasonResponse {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the newly supported reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint32 reason_id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// MsgRemoveReason represents the message to be used when removing an exiting reporting reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message MsgRemoveReason {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the subspace from which to remove the reason </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint64 subspace_id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the reason to be deleted</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint32 reason_id = 2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Address of the user adding the supported reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required string signer = 3;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// MsgRemoveReasonResponse represents the Msg/RemoveReason response type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message MsgRemoveReasonResponse {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the newly supported reason</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint32 reason_id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="query-service"><code>Query</code> Service<a class="hash-link" href="#query-service" title="Direct link to heading">​</a></h3><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">service Query {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Reports allows to query the reports for a specific target</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rpc Reports(QueryReportsRequest) returns (QueryReportsResponse) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    option (google.api.http).get = &quot;/desmos/reports/v1/{subspace_id}/reports&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Reasons allows to query the supported reporting reasons for a subspace</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rpc Reasons(QueryReasonsRequest) returns (QueryReasonsResponse) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    option (google.api.http).get = &quot;/desmos/reports/v1/{subspace_id}/reasons&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Params allows to query the module parameters</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rpc Params(QueryParamsRequest) returns (QueryParamsResponse) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    option (google.api.http).get = &quot;/desmos/reports/v1/params&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// QueryReportsResponse is the request type for Query/Reports RPC method</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message QueryReportsRequest {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Target to query the reports for</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  oneof Target {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    UserTarget user_data = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    PostTarget post_data = 2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // pagination defines an optional pagination for the request.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  optional cosmos.base.query.v1beta1.PageRequest pagination = 3;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">} </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// QueryReportsResponse is the response type for Query/Reports RPC method</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message QueryReportsResponse {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  repeated Report reports = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required cosmos.base.query.v1beta1.PageResponse pagination = 2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// QueryReasonsRequest is the request type for Query/Reasons RPC method</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message QueryReasonsRequest {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Id of the subspace to query the supported reporting reasons for</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required uint64 subspace_id = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // pagination defines an optional pagination for the request.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  optional cosmos.base.query.v1beta1.PageRequest pagination = 3;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// QueryReasonsResponse is the response type for Query/Reasons RPC method</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message QueryReasonsResponse {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  repeated Reason reasons = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required cosmos.base.query.v1beta1.PageResponse pagination = 2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// QueryParamsRequest is the request type for Query/Params RPC method</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message QueryParamsRequest {}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// QueryParamsResponse is the response type for Query/Params RPC method</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">message QueryParamsResponse {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  required Params params = 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consequences">Consequences<a class="hash-link" href="#consequences" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="backwards-compatibility">Backwards Compatibility<a class="hash-link" href="#backwards-compatibility" title="Direct link to heading">​</a></h3><p>The changes described inside this ADR are <strong>not</strong> backward compatible. To solve this, we will rely on the <code>x/upgrade</code> module in order to properly add these new features inside a running chain. If necessary, to make sure no extra operation is performed, we should make sure that <code>fromVm[reportstypes.ModuleName]</code> is set to <code>1</code> before running the migrations, so that the <code>InitGenesis</code> method does not get called.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="positive">Positive<a class="hash-link" href="#positive" title="Direct link to heading">​</a></h3><ul><li>Allow users to report misbehaving users or bad content</li><li>Allow subspace owners and admins to make sure ToS are respected more easily</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="negative">Negative<a class="hash-link" href="#negative" title="Direct link to heading">​</a></h3><ul><li>Not known</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="neutral">Neutral<a class="hash-link" href="#neutral" title="Direct link to heading">​</a></h3><ul><li>Require the <code>x/subspaces</code> to implement the following new permissions: <ul><li><code>PermissionCreateReport</code> to allow creating new reports inside a subspace;</li><li><code>PermissionDeleteReport</code> to allow deleting existing reports inside a subspace;</li><li><code>PermissionManageReasons</code> to allow managing supported reporting reasons inside a subspace.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="further-discussions">Further Discussions<a class="hash-link" href="#further-discussions" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a class="hash-link" href="#references" title="Direct link to heading">​</a></h2></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/desmos-labs/desmos/tree/master/docs/docs/architecture/adr-011-reports-module.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/architecture/adr-010-posts-module"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ADR 010: Posts module</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/architecture/adr-012-subspaces-sections"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ADR 012: Subspaces sections</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#changelog" class="table-of-contents__link toc-highlight">Changelog</a></li><li><a href="#status" class="table-of-contents__link toc-highlight">Status</a></li><li><a href="#abstract" class="table-of-contents__link toc-highlight">Abstract</a></li><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#decision" class="table-of-contents__link toc-highlight">Decision</a><ul><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a></li><li><a href="#reason" class="table-of-contents__link toc-highlight">Reason</a></li><li><a href="#params" class="table-of-contents__link toc-highlight">Params</a></li><li><a href="#msg-service" class="table-of-contents__link toc-highlight"><code>Msg</code> Service</a></li><li><a href="#query-service" class="table-of-contents__link toc-highlight"><code>Query</code> Service</a></li></ul></li><li><a href="#consequences" class="table-of-contents__link toc-highlight">Consequences</a><ul><li><a href="#backwards-compatibility" class="table-of-contents__link toc-highlight">Backwards Compatibility</a></li><li><a href="#positive" class="table-of-contents__link toc-highlight">Positive</a></li><li><a href="#negative" class="table-of-contents__link toc-highlight">Negative</a></li><li><a href="#neutral" class="table-of-contents__link toc-highlight">Neutral</a></li></ul></li><li><a href="#further-discussions" class="table-of-contents__link toc-highlight">Further Discussions</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Related docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cosmos SDK<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.cosmwasm.com/en/docs/1.0/" target="_blank" rel="noopener noreferrer" class="footer__link-item">CosmWasm<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/DesmosNetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.desmos.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://medium.com/desmosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/desmosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.reddit.com/r/DesmosNetwork/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit (not-official)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.desmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li><li class="footer__item"><a href="https://github.com/desmos-labs/desmos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.desmos.network" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/assets/logo.png" alt="Desmos Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/assets/logo.png" alt="Desmos Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2023 Desmos Network</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0e2de217.js"></script>
<script src="/assets/js/main.f783f73f.js"></script>
</body>
</html>